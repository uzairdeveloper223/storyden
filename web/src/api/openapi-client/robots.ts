/**
 * Generated by orval v7.2.0 ðŸº
 * Do not edit manually.
 * storyden
 * Storyden social API for building community driven platforms.
The Storyden API does not adhere to semantic versioning but instead applies a rolling strategy with deprecations and minimal breaking changes. This has been done mainly for a simpler development process and it may be changed to a more fixed versioning strategy in the future. Ultimately, the primary way Storyden tracks versions is dates, there are no set release tags currently.

 * OpenAPI spec version: v1.26.1-canary
 */
import useSwr from "swr";
import type { Key, SWRConfiguration } from "swr";

import { fetcher } from "../client";
import type {
  ForbiddenResponse,
  InternalServerErrorResponse,
  RobotsListOKResponse,
  RobotsListParams,
  UnauthorisedResponse,
} from "../openapi-schema";

/**
 * Get a paginated list of all available robots.
 * @summary List robots
 */
export const robotsList = (params?: RobotsListParams) => {
  return fetcher<RobotsListOKResponse>({
    url: `/robots`,
    method: "GET",
    params,
  });
};

export const getRobotsListKey = (params?: RobotsListParams) =>
  [`/robots`, ...(params ? [params] : [])] as const;

export type RobotsListQueryResult = NonNullable<
  Awaited<ReturnType<typeof robotsList>>
>;
export type RobotsListQueryError =
  | UnauthorisedResponse
  | ForbiddenResponse
  | InternalServerErrorResponse;

/**
 * @summary List robots
 */
export const useRobotsList = <
  TError =
    | UnauthorisedResponse
    | ForbiddenResponse
    | InternalServerErrorResponse,
>(
  params?: RobotsListParams,
  options?: {
    swr?: SWRConfiguration<Awaited<ReturnType<typeof robotsList>>, TError> & {
      swrKey?: Key;
      enabled?: boolean;
    };
  },
) => {
  const { swr: swrOptions } = options ?? {};

  const isEnabled = swrOptions?.enabled !== false;
  const swrKey =
    swrOptions?.swrKey ?? (() => (isEnabled ? getRobotsListKey(params) : null));
  const swrFn = () => robotsList(params);

  const query = useSwr<Awaited<ReturnType<typeof swrFn>>, TError>(
    swrKey,
    swrFn,
    swrOptions,
  );

  return {
    swrKey,
    ...query,
  };
};
